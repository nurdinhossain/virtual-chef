<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>AR.js Button-based Animations</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
<a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false;'>
    <a-marker preset="hiro">
        <a-entity
                id="animated-model"
                gltf-model="NONRIGGED.glb"
                scale="1 1 1"
                position="0 0 0"
                rotation="90 180 90"
                animation-mixer="clip: *; loop: repeat; clampWhenFinished: true;">
        </a-entity>
    </a-marker>
    <a-entity camera></a-entity>
</a-scene>

<div style="position: absolute; bottom: 10px; left: 10px; z-index: 999;">
    <button id="button1">Break Eggs</button>
    <button id="button2">Pour Egg Mixture</button>
    <button id="button3">Serve Omelette</button>
</div>

<script>
    const animatedModel = document.querySelector('#animated-model');

    // Breaking eggs animation
    // Breaking eggs animation
    function breakEggs() {
        // Step 1: Move up slightly
        animatedModel.setAttribute('animation__step1', {
            property: 'position',
            to: '2 0 0',
            dur: 300,
            easing: 'easeOutQuad'
        });

        // Step 2: Rotate 90 degrees forward
        setTimeout(() => {
            animatedModel.setAttribute('animation__step2', {
                property: 'rotation',
                to: '0 -45 0',
                dur: 500,
                easing: 'easeInOutQuad'
            });
        }, 300);

        // Step 3: Return to normal standing position
        setTimeout(() => {
            animatedModel.setAttribute('animation__step3', {
                property: 'position',
                to: '0 0 0',
                dur: 300,
                easing: 'easeInQuad'
            });
            animatedModel.setAttribute('animation__step4', {
                property: 'rotation',
                to: '90 180 90',
                dur: 500,
                easing: 'easeInOutQuad'
            });
        }, 800);
    }
//50 180 90
    // Pouring egg mixture animation
    function pourEggMixture() {
        animatedModel.setAttribute('animation__position', 'property: position; to: 0 0 0; dur: 500; dir: alternate; loop: false');
        animatedModel.setAttribute('animation__rotation', 'property: rotation; to: 0 90 0; dur: 1000; dir: alternate; loop: false');
    }

    // Serving omelette animation
    function serveOmelette() {
        animatedModel.setAttribute('animation__position1', 'property: position; to: 0 1 0; dur: 500; dir: alternate; loop: false');
        animatedModel.setAttribute('animation__position2', 'property: position; to: 0 1.5 0; dur: 700; dir: alternate; loop: false; delay: 500');
    }

    // Set up button listeners
    document.getElementById('button1').addEventListener('click', breakEggs);
    document.getElementById('button2').addEventListener('click', pourEggMixture);
    document.getElementById('button3').addEventListener('click', serveOmelette);
</script>
</body>
</html>